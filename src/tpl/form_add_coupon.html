<div class="bg-light lter b-b wrapper-md">
  <h1 class="m-n font-thin h3">{{isEditing ? "Edit Coupon" : "Add Coupon"}}</h1>
</div>
<div class="wrapper-md">
  <div>
    <div class="row">
      <div class="col-sm-12">
        <form name="form" class="form-validation" ng-submit="addCoupon()">
          <div class="panel panel-default">
            <div class="panel-heading">
              <span class="h4">Please fill the coupon information</span>
            </div>
            <div class="panel-body">

              <div class="row">

                <div class="col-sm-6">

                  <div class="form-group">
                    <label>Title</label>
                    <input type="text" class="form-control" ng-model="coupon.title" required >
                  </div>

                  <div class="form-group">
                    <label>Body</label>
                    <textarea class="form-control" rows="6" ng-model="coupon.body" placeholder="Type your message" required></textarea>
                  </div>


                  <div class="form-group">
                    <label>Promo code</label>
                    <input type="text" class="form-control" ng-model="coupon.code" required >
                  </div>
              
                </div>

                <div class="col-sm-6">

                  <div class="form-group">
                    <label>Expiration date</label>
                    
                    <div class="input-group">
                      <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="coupon.expiration" is-open="opened" datepicker-options="dateOptions" min-date="minDate" init-date="initDate" ng-required="true" close-text="Close" />
                      <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                      </span>
                    </div>
                    
                  </div>

                  <div class="form-group">
                    <div class="checkbox">
                      <label class="i-checks">
                        <input type="checkbox" value="" ng-model="coupon.alllocations">
                        <i></i>
                        Available in all locations
                      </label>
                    </div>
                  </div>


                  <div class="form-group" ng-hide="coupon.alllocations">
                    <label>Locations</label>

                    <ui-select multiple ng-model="coupon.locations"
                             theme="bootstrap"
                             ng-disabled="disabled"
                             reset-search-input="true">
                      <ui-select-match placeholder="Choose location...">{{$item}}</ui-select-match>
                      <ui-select-choices repeat="loc in locationNames | filter: $select.search track by $index">
                        <div ng-bind-html="loc | highlight: $select.search"></div>
                      </ui-select-choices>
                    </ui-select>
                  </div>
  

                  <div class="form-group">
                    <label>Give To Get</label>
                    <p class="text-muted">How many times user should share coupon before getting it.</p>

                    <select name="givetoget" class="form-control m-b tutorial-gtg-item" ng-model="coupon.givetoget" hint-text="Give-to-get encourages your loyal customers to promote your business and gift this coupon to their friends by rewarding them with this very coupon but only after they've shared this with the minimum number of friends you specify here." hint-close-on-click="1">  
                      <option value="0">None</option>
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                  </div>

                  <div class="form-group">

                    <div class="checkbox">
                      <label class="i-checks">
                        <input type="checkbox" value="" ng-model="coupon.oneperuser">
                        <i></i>
                        Limit 1 per customer
                      </label>
                    </div>
                  </div>


                </div>
              </div>

            </div>

            <footer class="panel-footer text-right bg-light lter">
              <button type="submit" class="btn btn-success" ng-disabled="form.$invalid">Publish</button>
            </footer>
          </div>
        </form>
      </div>


    </div>

  </div>

  <script type="text/ng-template" id="removeLocationModal.html">
    <div ng-include="'tpl/modal.html'"></div>
  </script>


</div>