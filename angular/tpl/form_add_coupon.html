<div class="bg-light lter b-b wrapper-md">
  <h1 class="m-n font-thin h3">Add Coupon</h1>
</div>
<div class="wrapper-md">
  <div>
    <div class="row">
      <div class="col-sm-6">
        <form name="form" class="form-validation" ng-submit="addCoupon()">
          <div class="panel panel-default">
            <div class="panel-heading">
              <span class="h4">Coupon info</span>
            </div>
            <div class="panel-body">

              <p class="text-muted">Please fill the information to continue</p>

              <div class="form-group">
                <label>Title</label>
                <input type="text" class="form-control" ng-model="coupon.title" required >
              </div>

              <div class="form-group">
                <label>Body</label>
                <textarea class="form-control" rows="6" ng-model="coupon.body" placeholder="Type your message" required></textarea>
              </div>




              <div class="form-group">
                <label>Expiration date</label>
                
                <div class="input-group">
                  <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="coupon.expiration" is-open="opened" datepicker-options="dateOptions" min-date="minDate" init-date="initDate" ng-required="true" close-text="Close" />
                  <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                  </span>
                </div>
                
              </div>



              <div class="form-group">

                <div class="checkbox">
                  <label class="i-checks">
                    <input type="checkbox" value="" ng-model="coupon.alllocations">
                    <i></i>
                    Available in all locations
                  </label>
                </div>
              </div>


              
              <div class="form-group" ng-hide="coupon.alllocations">
                <label>Locations</label>
                <ui-select multiple ng-model="coupon.locations"
                         theme="bootstrap"
                         ng-disabled="disabled"
                         reset-search-input="false">
                  <ui-select-match placeholder="Choose location...">{{$item.name}}</ui-select-match>
                  <ui-select-choices repeat="loc in locations track by $index">
                    <div ng-bind-html="loc.name | highlight: $select.search"></div>
                  </ui-select-choices>
                </ui-select>
              </div>


              <div class="form-group">

                <label>Choose Logo for Coupon</label>

                <div class="m-b">
                  <input ui-jq="filestyle" type="file" data-icon="false" data-classButton="btn btn-default" data-classInput="form-control inline v-middle input-s" id="fileInput">
                  <!--<input type="file" id="fileInput" />-->
                </div>
              </div>




              <div class="form-group" ng-show='fileselected'>
                <label>Please crop your logo</label>
                <div class="hbox hbox-auto-xs">

                  <div class="col">
                    <div class="wrapper-sm b-a bg-white m-r-xs m-b-xs">
                      <div class="bg-light" style="height:320px">
                        <img-crop 
                          image="myImage" 
                          result-image="myCroppedImage"
                          result-image-size="160"
                          area-type="{{cropType}}"
                        ></img-crop>
                      </div>
                    </div>
                  </div>


                  <div class="col">
                    <div class="inline bg-white wrapper-sm b-a">
                      <div class="bg-light">
                        <img ng-src="{{myCroppedImage}}" />
                      </div>
                    </div>
                  </div>
                </div>


              </div>



            </div>

            <footer class="panel-footer text-right bg-light lter">
              <button type="submit" class="btn btn-success" ng-disabled="form.$invalid">Add Coupon</button>
            </footer>
          </div>
        </form>
      </div>
      <div class="col-sm-6">
        
        <div class="panel no-border">
            <div class="panel-heading wrapper b-b b-light">
              <h4 class="font-thin m-t-none m-b-none text-muted">Coupons</h4>              
            </div>
            <ul class="list-group list-group-lg m-b-none">
              
              <li class="list-group-item" ng-repeat="c in coupons">
                <a href class="thumb-sm m-r">
                  <img src="img/a1.jpg" class="r r-2x">
                </a>
                <span class="pull-right label bg-primary inline m-t-sm">Admin</span>

                <a href style="display: inline-block; vertical-align: middle;">
                  <span>{{c.title}}</span>
                  <br>
                  <span class="text-muted">{{c.body}}</span>
                </a>
                
              </li>


            </ul>
          </div>


      </div>
    </div>

  </div>

  <script type="text/ng-template" id="removeLocationModal.html">
    <div ng-include="'tpl/modal.html'"></div>
  </script>


</div>